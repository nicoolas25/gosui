!!!
%html
  %head
    %meta{:charset => "utf-8"}
    %meta{:content => "ie=edge,chrome=1", :'http-equiv' => "x-ua-compatible"}

    %title Jasmine Spec Runner
    = stylesheet_link_tag "tests.css"
    = javascript_include_tag 'libs/jasmine'
    = javascript_include_tag 'libs/jasmine-html'
    = javascript_include_tag 'tests/specs'
    = javascript_include_tag 'application'

    :javascript
      (function() {
        var jasmineEnv = jasmine.getEnv();
        jasmineEnv.updateInterval = 1000;

        var htmlReporter = new jasmine.HtmlReporter();

        jasmineEnv.addReporter(htmlReporter);

        jasmineEnv.specFilter = function(spec) {
          return htmlReporter.specFilter(spec);
        };

        var currentWindowOnload = window.onload;

        window.onload = function() {
          if (currentWindowOnload) {
            currentWindowOnload();
          }
          execJasmine();
        };

        function execJasmine() {
          jasmineEnv.execute();
        }

      })();
  %body
